{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Replace backgroundSphere fragmentShader in CubeVisualization.tsx",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Replace the backgroundSphere fragmentShader constant in CubeVisualization.tsx with the new FBM-based nebula shader code",
      "acceptanceCriteria": [
        "The backgroundSphere fragmentShader constant in CubeVisualization.tsx contains exactly the new FBM nebula shader code provided by the user.",
        "The vertexShader constant for the backgroundSphere is unchanged.",
        "The useFrame logic is unchanged.",
        "All component props, uniform declarations, and mesh/material setup are unchanged.",
        "The animated background renders a blue/pink/purple nebula cloud effect driven by the time and resolution uniforms.",
        "No other files in the project are modified."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/CubeVisualization.tsx",
          "operation": "modify",
          "description": "Replace ONLY the string content of the backgroundSphere's fragmentShader constant (lines containing the GLSL shader code) with the new FBM-based nebula shader provided in the BuildRequest. The new shader includes random(), noise(), and fbm() functions with 6 octaves, produces a blue/pink/purple nebula color scheme using four color constants (c1, c2, c3, c4), and outputs gamma-corrected color via pow(color, vec3(2.0)) * 5.0. Leave the vertexShader, useFrame hook, uniform setup, mesh configuration, and all other component logic completely untouched."
        }
      ]
    }
  ]
}
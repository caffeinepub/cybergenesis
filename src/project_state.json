{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "React Three Fiber/Three.js visualization with a background sphere (radius 300) using an exact provided fragment shader with uniforms time and resolution.",
  "architectural_notes": [
    "Background shader is applied to a sphere mesh (radius 300) with THREE.BackSide or THREE.DoubleSide so it renders from inside the sphere.",
    "Shader uniforms must match variable names exactly: uniform float time (from state.clock.elapsedTime) and uniform vec2 resolution (from size.width/size.height).",
    "Sphere should be centered at [0,0,0] so the camera remains inside; shader uses gl_FragCoord so it behaves like a fullscreen backdrop."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-in-frontend-src-components-cubevisualization-tsx-update-the-backgroundsphere-shader-material-to-use-the-user-provided-fragment-shader-code-exactly-as-written-verbatim-without-modifying-gl-fragcoord-scaling-loop-logic-comments-or-any-other-shader-logic",
      "title": "In `frontend/src/components/CubeVisualization.tsx`, update the `BackgroundSphere` shader material to use the user-provided fragment shader code EXACTLY as written (verbatim), without modifying `gl_FragCoord` scaling, loop logic, comments, or any other shader logic.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-in-frontend-src-components-cubevisualization-tsx-backgroundsphere-wire-shader-uniforms-to-match-the-fragment-shader-variable-names-pass-time-float-from-state-clock-elapsedtime-and-resolution-vec2-from-the-react-three-fiber-size-width-and-size-height-values",
      "title": "In `frontend/src/components/CubeVisualization.tsx` `BackgroundSphere`, wire shader uniforms to match the fragment shader variable names: pass `time` (float) from `state.clock.elapsedTime` and `resolution` (vec2) from the React Three Fiber `size.width` and `size.height` values.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-fragment-shader-is-applied-to-the-existing-background-sphere-mesh-in-cubevisualization-tsx-with-spheregeometry-radius-300-centered-at-0-0-0-and-rendered-from-the-inside-by-using-three-backside-or-three-doubleside-on-the-shader-material",
      "title": "Ensure the fragment shader is applied to the existing background sphere mesh in `CubeVisualization.tsx` with `sphereGeometry` radius `300`, centered at `[0, 0, 0]`, and rendered from the inside by using `THREE.BackSide` or `THREE.DoubleSide` on the shader material.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Apply the provided fragment shader (unchanged) to the Background Sphere mesh (radius 300) in CubeVisualization.tsx; render from inside (BackSide/DoubleSide), center at [0,0,0], and wire uniforms: time=clock.elapsedTime, resolution=[size.width,size.height].",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Apply exact user-provided fragment shader to CubeVisualization background sphere with time/resolution uniforms",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}
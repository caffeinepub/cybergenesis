{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Studio Vignette-style LandModel with per-biome unique emissive intensities preserved and a synced pulse effect.",
  "architectural_notes": [
    "When initializing materials, set each biome’s emissiveIntensity first, then persist it to material.userData.baseEmissive; pulse logic must multiply baseEmissive per mesh via group.current.traverse in useFrame; enable material.dithering for all materials."
  ],
  "known_issues": [],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-frontend-src-components-landmodel-tsx-material-initialization-so-each-biome-s-mesh-gets-its-own-specific-emissiveintensity-value-set-first-e-g-snow-2-0-plains-1-3-and-only-after-that-persist-the-per-mesh-baseline-with-child-material-userdata-baseemissive-child-material-emissiveintensity-so-the-baseline-remains-unique-per-biome-mesh",
      "title": "Update `frontend/src/components/LandModel.tsx` material initialization so each biome’s mesh gets its own specific `emissiveIntensity` value set first (e.g., Snow = 2.0, Plains = 1.3), and only after that, persist the per-mesh baseline with `child.material.userData.baseEmissive = child.material.emissiveIntensity` (so the baseline remains unique per biome/mesh).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-refine-the-emissive-pulse-in-frontend-src-components-landmodel-tsx-so-the-useframe-loop-uses-group-current-traverse-and-sets-material-emissiveintensity-material-userdata-baseemissive-pulse-for-any-traversed-mesh-whose-material-has-userdata-baseemissive-defined-ensuring-the-pulse-scales-each-biome-s-unique-baseline-rather-than-overwriting-it",
      "title": "Refine the emissive pulse in `frontend/src/components/LandModel.tsx` so the `useFrame` loop uses `group.current.traverse(...)` and sets `material.emissiveIntensity = material.userData.baseEmissive * pulse` for any traversed mesh whose material has `userData.baseEmissive` defined, ensuring the pulse scales each biome’s unique baseline rather than overwriting it.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-dithering-is-applied-to-all-land-mesh-materials-during-the-same-material-setup-traversal-in-frontend-src-components-landmodel-tsx-i-e-child-material-dithering-true-for-every-mesh-material-processed",
      "title": "Ensure dithering is applied to all land mesh materials during the same material setup traversal in `frontend/src/components/LandModel.tsx` (i.e., `child.material.dithering = true` for every mesh material processed).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix LandModel.tsx so each biome preserves its unique base emissive intensity, pulse multiplies per-mesh baseEmissive via traverse in useFrame, and dithering is enabled for all materials.",
      "reqIds": [],
      "status": "in_progress"
    }
  ],
  "projectName": "LandModel.tsx: Preserve unique per-biome emissive intensity while pulsing",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}
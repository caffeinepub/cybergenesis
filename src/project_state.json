{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project now focuses on tuning the CubeVisualization scene's background glow/shader and fog (“Studio Balance”) to avoid whiteout while achieving controlled bloom.",
  "architectural_notes": [
    "Use the finalized “Studio Balance” configuration for CubeVisualization: specific background shader colors + sharper gradient falloff, BackgroundSphere uses BackSide with fog disabled, and scene fog set to near-black violet with low density to avoid whiteout while enabling controlled bloom."
  ],
  "known_issues": [
    "Current background intensity is too high (whiteout) at prior settings; needs Studio Balance tuning."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-frontend-src-components-cubevisualization-tsx-backgroundsphere-fragment-shader-to-use-the-final-studio-balance-colors-and-falloff-set-centercolor-to-vec3-1-6-0-4-3-2-keep-edgecolor-as-vec3-0-0-0-0-0-0-change-the-mixing-falloff-to-float-d-pow-distance-1-8",
      "title": "Update `frontend/src/components/CubeVisualization.tsx` `BackgroundSphere` fragment shader to use the final “Studio Balance” colors and falloff:\n- Set `centerColor` to `vec3(1.6, 0.4, 3.2)`\n- Keep `edgeColor` as `vec3(0.0, 0.0, 0.0)`\n- Change the mixing falloff to `float d = pow(distance, 1.8);`",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-frontend-src-components-cubevisualization-tsx-backgroundsphere-material-settings-remain-fog-false-and-side-three-backside",
      "title": "Ensure `frontend/src/components/CubeVisualization.tsx` `BackgroundSphere` material settings remain: `fog={false}` and `side={THREE.BackSide}`.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-components-cubevisualization-tsx-scene-fog-to-deep-space-in-scenesetup-use-new-three-fogexp2-0x05010a-0-0015",
      "title": "Update `frontend/src/components/CubeVisualization.tsx` scene fog to “Deep Space” in `SceneSetup`:\n- Use `new THREE.FogExp2(0x05010a, 0.0015)`",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-preserve-the-renderer-tone-mapping-exposure-in-frontend-src-components-cubevisualization-tsx-at-gl-tonemappingexposure-0-6-while-applying-the-studio-balance-shader-and-fog-changes",
      "title": "Preserve the renderer tone mapping exposure in `frontend/src/components/CubeVisualization.tsx` at `gl.toneMappingExposure = 0.6` while applying the Studio Balance shader and fog changes.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Apply final “Studio Balance” settings to CubeVisualization.tsx (shader colors + sharp falloff, BackgroundSphere fog/side, and deep-space fog color/density) to prevent whiteout and pass exposure check.",
      "reqIds": [],
      "status": "in_progress"
    }
  ],
  "projectName": "Apply final “Studio Balance” shader + fog tuning in CubeVisualization",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}
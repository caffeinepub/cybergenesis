{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Emergency emissive fix for LandModel + add Canvas dithering",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Make LandModel emissive glow conditional based on presence of an emissiveMap, without changing any other material/camera/pulse behavior.",
      "acceptanceCriteria": [
        "For a GLB model whose meshes do not include an emissive map, the rendered object shows no emissive glow (no white glow) and the emissive pulse has no visible effect.",
        "For a GLB model whose meshes include an emissive map, the emissive map is used, emissive color is white, and `m.userData.baseEmissive` is set to `2.0` so existing pulse logic continues to work.",
        "No other logic in `LandModel.tsx` is changed (including `m.dithering = true`, the `useFrame` pulse traversal, biome `envMapIntensity` rules, and camera auto-fit logic)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/LandModel.tsx",
          "operation": "modify",
          "description": "Replace only the current emissive block inside the materials loop with the specified conditional logic: if `obj.material.emissiveMap` exists, set `m.emissiveMap` to it, set `m.emissive` to white, and set `m.userData.baseEmissive = 2.0`; otherwise set `m.emissive` to black and `m.userData.baseEmissive = 0.0`. Keep all other existing logic and settings unchanged."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Enable renderer dithering in CubeVisualization Canvas gl configuration while preserving existing gl settings.",
      "acceptanceCriteria": [
        "`Canvas` in `CubeVisualization.tsx` includes `gl={{ antialias: true, powerPreference: 'high-performance', alpha: false, dithering: true }}` (ordering may vary) and no other Canvas props/logic are modified.",
        "The app builds successfully with the new `gl.dithering` setting present."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/CubeVisualization.tsx",
          "operation": "modify",
          "description": "Add `dithering: true` to the existing `<Canvas gl={{ ... }} />` object literal while leaving the current `antialias`, `powerPreference`, and `alpha` settings and all other code unchanged."
        }
      ]
    }
  ]
}
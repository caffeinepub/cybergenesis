# CyberGenesis Environment Variables
# PRODUCTION CONFIGURATION FOR PUBLIC INTERNET COMPUTER NETWORK

# ============================================
# CRITICAL: Network Configuration
# ============================================
# Network Configuration - PERMANENTLY SET TO PUBLIC IC MAINNET
# This setting ensures all deployments (Draft and Live) use the stable public gateway
# DO NOT CHANGE THIS VALUE - The system is configured for IC mainnet only
VITE_DFX_NETWORK=ic

# ============================================
# Canister IDs - MUST BE CONFIGURED
# ============================================
# Replace these placeholder values with your actual canister IDs after deployment
# Get canister IDs by running: dfx canister id <canister_name> --network ic

# Main backend canister (LandCanister)
VITE_LAND_CANISTER_ID=br5f7-7uaaa-aaaaa-qaaca-cai

# Token canister (CyberTokenCanister) - CORRECTED ID
VITE_CYBER_TOKEN_CANISTER_ID=w4q3i-7yaaa-aaaam-ab3qq-cai

# Marketplace canister
VITE_MARKETPLACE_CANISTER_ID=be2us-64aaa-aaaaa-qaabq-cai

# Governance canister
VITE_GOVERNANCE_CANISTER_ID=bkyz2-fmaaa-aaaaa-qaaaq-cai

# ⚠️ CRITICAL: Asset canister (for GLB model storage and Admin Upload)
# This MUST be configured for the Admin Upload Zone to work
VITE_ASSET_CANISTER_ID=bd3sg-teaaa-aaaaa-qaaba-cai

# ============================================
# Alternative naming convention (fallback)
# ============================================
# These will be used if VITE_ prefixed variables are not set
CANISTER_ID_BACKEND=br5f7-7uaaa-aaaaa-qaaca-cai
CANISTER_ID_CYBER_TOKEN=w4q3i-7yaaa-aaaam-ab3qq-cai
CANISTER_ID_MARKETPLACE=be2us-64aaa-aaaaa-qaabq-cai
CANISTER_ID_GOVERNANCE=bkyz2-fmaaa-aaaaa-qaaaq-cai
CANISTER_ID_ASSET_CANISTER=bd3sg-teaaa-aaaaa-qaaba-cai

# ============================================
# Admin Upload Authorization
# ============================================
# Only the following Internet Identity principal can access the Admin Upload Zone:
# whd5e-pbxhk-pp65k-hxqqx-edtrx-5b7xd-itunf-pz5f5-bzjut-dxkhy-4ae
#
# This is enforced both in the frontend (AdminPanel.tsx) and backend (asset.mo)

# ============================================
# DEPLOYMENT INSTRUCTIONS FOR PUBLIC IC NETWORK
# ============================================
# 1. Deploy all canisters to mainnet: dfx deploy --network ic
# 2. Get canister IDs: dfx canister id <canister_name> --network ic
# 3. Update this .env file with actual mainnet canister IDs
# 4. Rebuild frontend: npm run build
# 5. Deploy frontend to mainnet: dfx deploy frontend --network ic
# 6. Verify Admin Panel shows "CONNECTED" status
#
# IMPORTANT: This configuration is permanently set to target the public IC network (ic).
# The system uses multiple boundary nodes with automatic failover for maximum stability:
# - Primary: https://ic0.app (DFINITY official gateway - RESTORED AS PRIMARY)
# - Secondary: https://boundary.ic0.app (Boundary node gateway)
# - Tertiary: https://icp-api.io (API-focused gateway)
#
# MAXIMUM STABILITY ENHANCEMENTS:
# - Actor creation timeout: 120 seconds (maximum recommended for stability)
# - Upload request timeout: 120 seconds (for large 50MB GLB files)
# - Automatic retry with exponential backoff: 25 attempts (1s → 45s delays)
# - Dynamic gateway selection with health checks (5s timeout per gateway)
# - Automatic failover to alternate boundary nodes if primary fails
# - Enhanced data poller: 25 attempts with extended backoff (1s → 45s)
# - Comprehensive connectivity validation: 4 health checks per initialization
# - All actors use consistent gateway selection with failover support

# ============================================
# VERIFICATION CHECKLIST
# ============================================
# ✓ VITE_DFX_NETWORK is set to "ic" (public mainnet) - PERMANENT
# ✓ All VITE_* environment variables are set with mainnet canister IDs
# ✓ VITE_ASSET_CANISTER_ID is configured (critical for uploads)
# ✓ All canister IDs are valid principal IDs from mainnet deployment
# ✓ Frontend rebuilt and redeployed after .env changes
# ✓ Network diagnostics show connection to public IC network
# ✓ Actor timeout extended to 120 seconds for maximum stability
# ✓ Upload timeout set to 120 seconds for large file transfers
# ✓ Exponential backoff retry logic implemented (25 attempts)
# ✓ Multiple boundary nodes configured for automatic failover
# ✓ Gateway health checks enabled (5s timeout)
# ✓ Enhanced data poller with 25 attempts and 4 health checks
# ✓ All resource configurations preserved (500 MB memory, 50 MB uploads)
# ✓ Seven land type mappings preserved
# ✓ Admin ID validation preserved
# ✓ Primary gateway restored to ic0.app (DFINITY official)
# ✓ Token Canister ID corrected to w4q3i-7yaaa-aaaam-ab3qq-cai

